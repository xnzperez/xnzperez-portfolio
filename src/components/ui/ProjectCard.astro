---
// src/components/ui/ProjectCard.astro

import { Icon } from "astro-icon/components";

interface Props {
  title: string;
  description: string;
  tags: string[];
  slug: string;
  githubLink?: string;
  demoLink?: string;
}

const { title, description, tags, slug, githubLink, demoLink } = Astro.props;
---

<a href={`/projects/${slug}`} class="block h-full">
  <article
    class="bg-[#121212] border border-white/10 rounded-xl overflow-hidden hover:border-cyan-500/50 transition-all duration-300 group flex flex-col h-full shadow-lg cursor-pointer"
  >
    <div class="relative aspect-video overflow-hidden bg-gray-800">
      <slot name="image" />
    </div>

    <div class="p-6 flex flex-col flex-grow">
      <h3
        class="text-xl font-bold text-white mb-2 group-hover:text-cyan-400 transition-colors"
      >
        {title}
      </h3>

      <div class="flex flex-wrap gap-2 mb-4">
        {
          tags.map((tag) => (
            <span class="text-[10px] uppercase tracking-wider font-semibold px-2 py-1 bg-white/5 text-cyan-400 rounded border border-white/10">
              {tag}
            </span>
          ))
        }
      </div>

      <p class="text-gray-400 text-sm leading-relaxed mb-6 flex-grow">
        {description}
      </p>

      <div class="flex items-center gap-3 mt-auto pt-4 border-t border-white/5">
        {
          githubLink && (
            <a
              href={githubLink}
              target="_blank"
              onclick="event.stopPropagation()"
              class="flex items-center gap-2 text-sm text-gray-300 hover:text-cyan-400 transition-colors z-10"
            >
              <Icon name="mdi:github" class="w-5 h-5" />
              Code
            </a>
          )
        }
        {
          demoLink && (
            <a
              href={demoLink}
              target="_blank"
              onclick="event.stopPropagation()"
              class="ml-auto flex items-center gap-2 px-3 py-1.5 bg-cyan-500/10 border border-cyan-500/50 text-cyan-400 rounded-lg text-xs font-bold hover:bg-cyan-500 hover:text-black transition-all z-10"
            >
              <Icon name="mdi:external-link" class="w-4 h-4" />
              Preview
            </a>
          )
        }
      </div>
    </div>
  </article>
</a>
