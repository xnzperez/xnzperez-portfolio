---
import { Icon } from "astro-icon/components";

// Full technology list
const technologies = [
  { name: "JavaScript", icon: "logos:javascript" },
  { name: "TypeScript", icon: "logos:typescript-icon" },
  { name: "Go", icon: "logos:go" },
  { name: "React", icon: "logos:react" },
  { name: "Node.js", icon: "logos:nodejs-icon" },
  { name: "PostgreSQL", icon: "logos:postgresql" },
  { name: "MySQL", icon: "logos:mysql-icon" },
  { name: "Git", icon: "logos:git-icon" },
  { name: "Tailwind", icon: "logos:tailwindcss-icon" },
  { name: "HTML5", icon: "logos:html-5" },
  { name: "CSS3", icon: "logos:css-3" },
  { name: "Azure", icon: "logos:azure" },
  { name: "Docker", icon: "logos:docker-icon" },
  { name: "GitHub", icon: "logos:github-icon" },
  { name: "AWS", icon: "logos:aws" },
  { name: "Astro", icon: "logos:astro" },
  { name: "Express", icon: "logos:express" },
  { name: "Postman", icon: "logos:postman" },
];

// Tier 1: Main Stack & Frameworks
const mainStackNames = [
  "Go",
  "TypeScript",
  "React",
  "Node.js",
  "Astro",
  "PostgreSQL",
];
const mainStack = technologies.filter((t) => mainStackNames.includes(t.name));

// Tier 2: Cloud & Infrastructure
const cloudStackNames = ["Azure", "AWS", "Docker"];
const cloudStack = technologies.filter((t) => cloudStackNames.includes(t.name));

// Tier 3: Fundamentals & Tools
const fundamentalStackNames = [
  "JavaScript",
  "HTML5",
  "CSS3",
  "Tailwind",
  "MySQL",
  "Git",
  "GitHub",
  "Postman",
  "Express",
];
const fundamentalStack = technologies.filter((t) =>
  fundamentalStackNames.includes(t.name)
);
---

<section
  class="py-24 border-y border-white/5 relative bg-[rgba(30, 58, 138, 0.15)]/30"
>
  <div class="container mx-auto px-6 max-w-6xl">
    <div class="flex flex-col gap-20">
      <!-- LEVEL 1: Main Stack -->
      <div class="text-center space-y-8">
        <div class="space-y-2">
          <h3
            class="text-cyan-400 font-mono text-lg tracking-widest uppercase mb-2"
          >
            Main Stack & Frameworks
          </h3>
          <p class="text-slate-400 max-w-2xl mx-auto">
            My core tools for building scalable and high-performance
            applications.
          </p>
        </div>

        <div
          class="grid grid-cols-2 md:grid-cols-3 gap-8 max-w-3xl mx-auto justify-items-center"
        >
          {
            mainStack.map((tech) => (
              <div class="group flex flex-col items-center gap-4 p-4 rounded-xl hover:bg-white/5 transition-colors duration-300 w-full">
                <Icon
                  name={tech.icon}
                  class="w-14 h-14 filter drop-shadow-[0_0_15px_rgba(34,211,238,0.2)] group-hover:scale-110 transition-transform duration-300"
                />
                <span class="font-bold text-slate-200 text-lg tracking-wide group-hover:text-cyan-400 transition-colors">
                  {tech.name}
                </span>
              </div>
            ))
          }
        </div>
      </div>

      <!-- LEVEL 2: Cloud & Infrastructure -->
      <div class="text-center space-y-6">
        <div class="space-y-1">
          <h3
            class="text-cyan-400/90 font-mono text-base tracking-widest uppercase"
          >
            Cloud & DevOps
          </h3>
          <p class="text-slate-500 text-sm">
            Experience managing infrastructure and containerized environments.
          </p>
        </div>

        <div class="flex flex-wrap justify-center gap-10">
          {
            cloudStack.map((tech) => (
              <div class="group flex flex-col items-center gap-3">
                <div class="p-3 rounded-lg bg-white/5 border border-white/5 group-hover:border-cyan-500/30 transition-all duration-300">
                  <Icon
                    name={tech.icon}
                    class="w-10 h-10 opacity-80 group-hover:opacity-100 group-hover:scale-105 transition-all duration-300"
                  />
                </div>
                <span class="text-sm font-medium text-slate-400 group-hover:text-cyan-400 transition-colors">
                  {tech.name}
                </span>
              </div>
            ))
          }
        </div>
      </div>

      <!-- LEVEL 3: Fundamentals & Tools -->
      <div class="text-center space-y-6 pt-8 border-t border-white/5">
        <div class="space-y-1">
          <h3
            class="text-cyan-400/70 font-mono text-sm tracking-widest uppercase"
          >
            Fundamentals & Tools
          </h3>
          <p class="text-slate-600 text-xs uppercase tracking-wide">
            Core web standards and essential development utilities
          </p>
        </div>

        <div class="flex flex-wrap justify-center gap-6 max-w-4xl mx-auto">
          {
            fundamentalStack.map((tech) => (
              <div class="group flex items-center justify-center p-2">
                <div
                  class="relative flex items-center justify-center gap-2 px-3 py-1.5 rounded-full border border-transparent hover:border-white/10 hover:bg-white/5 transition-all duration-300 cursor-default"
                  title={tech.name}
                >
                  <Icon
                    name={tech.icon}
                    class="w-8 h-8 opacity-50 grayscale group-hover:grayscale-0 group-hover:opacity-100 transition-all duration-300"
                  />
                  <span class="text-xs font-mono text-slate-500 opacity-0 w-0 overflow-hidden group-hover:w-auto group-hover:opacity-100 transition-all duration-300 whitespace-nowrap">
                    {tech.name}
                  </span>
                </div>
              </div>
            ))
          }
        </div>
      </div>
    </div>
  </div>
</section>
